<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
<!-- OneTrust Cookies Consent Notice start for xilinx.github.io -->

<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="03af8d57-0a04-47a6-8f10-322fa00d8fc7" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice end for xilinx.github.io -->
<!-- Google Tag Manager -->
<script type="text/plain" class="optanon-category-C0002">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5RHQV7');</script>
<!-- End Google Tag Manager -->
  <title>VVAS Meta Data Structures &mdash; Vitis™ Video Analytics SDK 3.0 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Development Guide" href="for_developers.html" />
    <link rel="prev" title="GStreamer Plug-ins" href="common_plugins.html" /> 
</head>

<body class="wy-body-for-nav">

<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5RHQV7" height="0" width="0" style="display:none;visibility:hidden" class="optanon-category-C0002"></iframe></noscript>
<!-- End Google Tag Manager --> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
            <a href="../../index.html" class="icon icon-home"> Vitis™ Video Analytics SDK
            <img src="../../_static/xilinx-header-logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Release Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Release Notes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Base Infrastructure</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="common_plugins.html">VVAS GStreamer Plugins</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">VVAS Meta Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#vvas-inference-metadata">VVAS Inference Metadata</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#gstinferencemeta">GstInferenceMeta</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gstinferenceprediction">GstInferencePrediction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gstinferenceclassification">GstInferenceClassification</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#vvas-overlay-metadata">VVAS Overlay Metadata</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#gstoverlaymeta">GstOverlayMeta</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#vvas-opticalflow-metadata">VVAS Opticalflow Metadata</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#gstoptflowmeta">GstOptflowMeta</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="for_developers.html">VVAS For Advanced Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="debug_support.html">VVAS Debug Support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Embedded</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Embedded/platforms_and_applications.html">Platforms &amp; Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Embedded/embedded-plugins.html">VVAS GStreamer Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Embedded/Tutorials/Tutorials.html">Tutorials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Center</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../DC/platforms_and_applications.html">Platforms &amp; Applications</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">FAQ</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../freq_asked_questions.html">Frequently Asked Questions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: black" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Vitis™ Video Analytics SDK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>VVAS Meta Data Structures</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/docs/common/vvas_meta_data_structures.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="vvas-meta-data-structures">
<h1>VVAS Meta Data Structures<a class="headerlink" href="#vvas-meta-data-structures" title="Permalink to this heading">¶</a></h1>
<p>This section covers various meta data structures defined by VVAS.</p>
<div class="section" id="vvas-inference-metadata">
<span id="id1"></span><h2>VVAS Inference Metadata<a class="headerlink" href="#vvas-inference-metadata" title="Permalink to this heading">¶</a></h2>
<p>The VVAS inference metadata (GstInferenceMeta) object holds information about the metadata produced by the machine learning (ML) inference acceleration software libraries. This metadata structure stores the inferred data generated at multiple levels of ML operation into a single structure in a hierarchical way. This data structure combines, and stores metadata generated by detection and classification models.</p>
<p>The GStreamer plug-ins can set and get inference metadata from the GstBuffer by using the <cite>gst_buffer_add_meta ()</cite> API and <cite>gst_buffer_get_meta ()</cite> API, respectively.</p>
<div class="section" id="gstinferencemeta">
<h3>GstInferenceMeta<a class="headerlink" href="#gstinferencemeta" title="Permalink to this heading">¶</a></h3>
<dl class="c struct">
<dt class="sig sig-object c" id="c.GstInferenceMeta">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">GstInferenceMeta</span></span></span><a class="headerlink" href="#c.GstInferenceMeta" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>GstInferenceMeta is the root node of the inference metadata. GstInferencePrediction hosts the actual inference metadata.</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">struct</span> <span class="n">GstInferenceMeta</span> <span class="p">{</span>
  <span class="n">GstMeta</span> <span class="n">meta</span><span class="p">;</span>
  <span class="n">GstInferencePrediction</span> <span class="o">*</span><span class="n">prediction</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">meta</span></code></dt><dd><p>Buffer metadata</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">prediction</span></code></dt><dd><p>Contains all the predictions associated to this node</p>
</dd>
</dl>
</div>
<div class="section" id="gstinferenceprediction">
<h3>GstInferencePrediction<a class="headerlink" href="#gstinferenceprediction" title="Permalink to this heading">¶</a></h3>
<dl class="c struct">
<dt class="sig sig-object c" id="c.GstInferencePrediction">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">GstInferencePrediction</span></span></span><a class="headerlink" href="#c.GstInferencePrediction" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This structure represents the inference data generated from the ML operation</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">struct</span> <span class="n">GstInferencePrediction</span> <span class="p">{</span>
  <span class="n">GstMiniObject</span> <span class="n">base</span><span class="p">;</span>
  <span class="n">GMutex</span> <span class="n">mutex</span><span class="p">;</span>
  <span class="n">GstBuffer</span> <span class="o">*</span><span class="n">sub_buffer</span><span class="p">;</span>
  <span class="n">VvasInferPrediction</span> <span class="n">prediction</span><span class="p">;</span>
  <span class="n">void</span> <span class="o">*</span><span class="n">reserved_1</span><span class="p">;</span>
  <span class="n">void</span> <span class="o">*</span><span class="n">reserved_2</span><span class="p">;</span>
  <span class="n">void</span> <span class="o">*</span><span class="n">reserved_3</span><span class="p">;</span>
  <span class="n">void</span> <span class="o">*</span><span class="n">reserved_4</span><span class="p">;</span>
  <span class="n">void</span> <span class="o">*</span><span class="n">reserved_5</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">base</span></code></dt><dd><p>private base object</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">mutex</span></code></dt><dd><p>mutex</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sub_buffer</span></code></dt><dd><p>A buffer created from the main buffer</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">prediction</span></code></dt><dd><p>VVAS core inference structure</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved_1</span></code></dt><dd><p>for future extension</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved_2</span></code></dt><dd><p>for future extension</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved_3</span></code></dt><dd><p>for future extension</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved_4</span></code></dt><dd><p>for future extension</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reserved_5</span></code></dt><dd><p>for future extension</p>
</dd>
</dl>
<dl class="c struct">
<dt class="sig sig-object c" id="c.VvasInferPrediction">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">VvasInferPrediction</span></span></span><br /></dt>
<dd><p>Contains Inference meta data information of a frame</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">struct</span> <span class="n">VvasInferPrediction</span> <span class="p">{</span>
  <span class="n">uint64_t</span> <span class="n">prediction_id</span><span class="p">;</span>
  <span class="nb">bool</span> <span class="n">enabled</span><span class="p">;</span>
  <span class="n">VvasBoundingBox</span> <span class="n">bbox</span><span class="p">;</span>
  <span class="n">VvasList</span><span class="o">*</span> <span class="n">classifications</span><span class="p">;</span>
  <span class="n">VvasTreeNode</span> <span class="o">*</span><span class="n">node</span><span class="p">;</span>
  <span class="nb">bool</span> <span class="n">bbox_scaled</span><span class="p">;</span>
  <span class="n">char</span> <span class="o">*</span><span class="n">obj_track_label</span><span class="p">;</span>
  <span class="n">VvasClass</span> <span class="n">model_class</span><span class="p">;</span>
  <span class="n">char</span> <span class="o">*</span><span class="n">model_name</span><span class="p">;</span>
  <span class="nb">int</span> <span class="n">count</span><span class="p">;</span>
  <span class="n">Pose14Pt</span> <span class="n">pose14pt</span><span class="p">;</span>
  <span class="n">Feature</span> <span class="n">feature</span><span class="p">;</span>
  <span class="n">Reid</span> <span class="n">reid</span><span class="p">;</span>
  <span class="n">Segmentation</span> <span class="n">segmentation</span><span class="p">;</span>
  <span class="n">TensorBuf</span> <span class="o">*</span><span class="n">tb</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">prediction_id</span></code></dt><dd><p>A unique id for this specific prediction</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">enabled</span></code></dt><dd><p>This flag indicates whether or not this prediction should be used for further inference</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bbox</span></code></dt><dd><p>Bouding box for this specific prediction</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">classifications</span></code></dt><dd><p>linked list to classifications</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">node</span></code></dt><dd><p>Address to tree data structure node</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bbox_scaled</span></code></dt><dd><p>bbox co-ordinates scaled to root node resolution or not</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">obj_track_label</span></code></dt><dd><p>Track Label for the object</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">model_class</span></code></dt><dd><p>Model class defined in vvas-core</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">model_name</span></code></dt><dd><p>Model name</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">count</span></code></dt><dd><p>A number element, used by model which give output a number</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pose14pt</span></code></dt><dd><p>Struct of the result returned by the posedetect/openpose network</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">feature</span></code></dt><dd><p>Features of a face/road</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reid</span></code></dt><dd><p>Getting feature from an image</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">segmentation</span></code></dt><dd><p>Segmentation data</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tb</span></code></dt><dd><p>Rawtensor data</p>
</dd>
</dl>
<dl class="c struct">
<dt class="sig sig-object c" id="c.VvasBoundingBox">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">VvasBoundingBox</span></span></span><br /></dt>
<dd><p>Contains information for box data for detected object</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">struct</span> <span class="n">VvasBoundingBox</span> <span class="p">{</span>
  <span class="n">int32_t</span> <span class="n">x</span><span class="p">;</span>
  <span class="n">int32_t</span> <span class="n">y</span><span class="p">;</span>
  <span class="n">uint32_t</span> <span class="n">width</span><span class="p">;</span>
  <span class="n">uint32_t</span> <span class="n">height</span><span class="p">;</span>
  <span class="n">VvasColorInfo</span> <span class="n">box_color</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">x</span></code></dt><dd><p>horizontal coordinate of the upper position in pixels</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y</span></code></dt><dd><p>vertical coordinate of the upper position in pixels</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">width</span></code></dt><dd><p>width of bounding box in pixels</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">height</span></code></dt><dd><p>height of bounding box in pixels</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">box_color</span></code></dt><dd><p>bounding box color</p>
</dd>
</dl>
<dl class="c struct">
<dt class="sig sig-object c" id="c.Pointf">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Pointf</span></span></span><br /></dt>
<dd><p>coordinate of point</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">struct</span> <span class="n">Pointf</span> <span class="p">{</span>
  <span class="nb">float</span> <span class="n">x</span><span class="p">;</span>
  <span class="nb">float</span> <span class="n">y</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">x</span></code></dt><dd><p>horizontal coordinate of the upper position in pixels</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y</span></code></dt><dd><p>vertical coordinate of the upper position in pixels</p>
</dd>
</dl>
<dl class="c struct">
<dt class="sig sig-object c" id="c.Pose14Pt">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Pose14Pt</span></span></span><br /></dt>
<dd><p>14 coordinate points to represented pose</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">struct</span> <span class="n">Pose14Pt</span> <span class="p">{</span>
  <span class="n">Pointf</span> <span class="n">right_shoulder</span><span class="p">;</span>
  <span class="n">Pointf</span> <span class="n">right_elbow</span><span class="p">;</span>
  <span class="n">Pointf</span> <span class="n">right_wrist</span><span class="p">;</span>
  <span class="n">Pointf</span> <span class="n">left_shoulder</span><span class="p">;</span>
  <span class="n">Pointf</span> <span class="n">left_elbow</span><span class="p">;</span>
  <span class="n">Pointf</span> <span class="n">left_wrist</span><span class="p">;</span>
  <span class="n">Pointf</span> <span class="n">right_hip</span><span class="p">;</span>
  <span class="n">Pointf</span> <span class="n">right_knee</span><span class="p">;</span>
  <span class="n">Pointf</span> <span class="n">right_ankle</span><span class="p">;</span>
  <span class="n">Pointf</span> <span class="n">left_hip</span><span class="p">;</span>
  <span class="n">Pointf</span> <span class="n">left_knee</span><span class="p">;</span>
  <span class="n">Pointf</span> <span class="n">left_ankle</span><span class="p">;</span>
  <span class="n">Pointf</span> <span class="n">head</span><span class="p">;</span>
  <span class="n">Pointf</span> <span class="n">neck</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">right_shoulder</span></code></dt><dd><p>R_shoulder coordinate</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">right_elbow</span></code></dt><dd><p>R_elbow coordinate</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">right_wrist</span></code></dt><dd><p>R_wrist coordinate</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">left_shoulder</span></code></dt><dd><p>L_shoulder coordinate</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">left_elbow</span></code></dt><dd><p>L_elbow coordinate</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">left_wrist</span></code></dt><dd><p>L_wrist coordinate</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">right_hip</span></code></dt><dd><p>R_hip coordinate</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">right_knee</span></code></dt><dd><p>R_knee coordinate</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">right_ankle</span></code></dt><dd><p>R_ankle coordinate</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">left_hip</span></code></dt><dd><p>L_hip coordinate</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">left_knee</span></code></dt><dd><p>L_knee coordinate</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">left_ankle</span></code></dt><dd><p>L_ankle coordinate</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">head</span></code></dt><dd><p>Head coordinate</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">neck</span></code></dt><dd><p>Neck coordinate</p>
</dd>
</dl>
<dl class="c enum">
<dt class="sig sig-object c" id="c.feature_type">
<span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">feature_type</span></span></span><br /></dt>
<dd><p>Enum for holding type of feature</p>
</dd></dl>

<p><strong>Constants</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">UNKNOWN_FEATURE</span></code></dt><dd><p>Unknown feature</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">FLOAT_FEATURE</span></code></dt><dd><p>Float features</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">FIXED_FEATURE</span></code></dt><dd><p>Fixed point features</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">LANDMARK</span></code></dt><dd><p>Landmark</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ROADLINE</span></code></dt><dd><p>Roadlines</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ULTRAFAST</span></code></dt><dd><p>Points from Ultrafast model</p>
</dd>
</dl>
<dl class="c enum">
<dt class="sig sig-object c" id="c.road_line_type">
<span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">road_line_type</span></span></span><br /></dt>
<dd><p>Enum for holding type of road line</p>
</dd></dl>

<p><strong>Constants</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">BACKGROUND</span></code></dt><dd><p>Background</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">WHITE_DOTTED_LINE</span></code></dt><dd><p>White dotted line</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">WHITE_SOLID_LINE</span></code></dt><dd><p>White solid line</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">YELLOW_LINE</span></code></dt><dd><p>Yellow line</p>
</dd>
</dl>
<dl class="c struct">
<dt class="sig sig-object c" id="c.Feature">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Feature</span></span></span><br /></dt>
<dd><p>The features of a road/person</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">struct</span> <span class="n">Feature</span> <span class="p">{</span>
  <span class="n">union</span> <span class="p">{</span>
    <span class="nb">float</span> <span class="n">float_feature</span><span class="p">[</span><span class="n">VVAS_MAX_FEATURES</span><span class="p">];</span>
    <span class="n">int8_t</span> <span class="n">fixed_feature</span><span class="p">[</span><span class="n">VVAS_MAX_FEATURES</span><span class="p">];</span>
    <span class="n">Pointf</span> <span class="n">road_line</span><span class="p">[</span><span class="n">VVAS_MAX_FEATURES</span><span class="p">];</span>
    <span class="n">Pointf</span> <span class="n">landmark</span><span class="p">[</span><span class="n">NUM_LANDMARK_POINT</span><span class="p">];</span>
  <span class="p">};</span>
  <span class="n">uint32_t</span> <span class="n">line_size</span><span class="p">;</span>
  <span class="n">enum</span> <span class="n">feature_type</span> <span class="nb">type</span><span class="p">;</span>
  <span class="n">enum</span> <span class="n">road_line_type</span> <span class="n">line_type</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">{unnamed_union}</span></code></dt><dd><p>anonymous</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">float_feature</span></code></dt><dd><p>float features</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fixed_feature</span></code></dt><dd><p>fixed features</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">road_line</span></code></dt><dd><p>points for drawing road lanes</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">landmark</span></code></dt><dd><p>five key points on a human face</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">line_size</span></code></dt><dd><p>Number of points in road_line</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">type</span></code></dt><dd><p>enum to hold type of feature</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">line_type</span></code></dt><dd><p>enum to hold type of road lane</p>
</dd>
</dl>
<dl class="c struct">
<dt class="sig sig-object c" id="c.Reid">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Reid</span></span></span><br /></dt>
<dd><p>Structure to gold reid model results</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">struct</span> <span class="n">Reid</span> <span class="p">{</span>
  <span class="n">uint32_t</span> <span class="n">width</span><span class="p">;</span>
  <span class="n">uint32_t</span> <span class="n">height</span><span class="p">;</span>
  <span class="n">uint64_t</span> <span class="n">size</span><span class="p">;</span>
  <span class="n">uint64_t</span> <span class="nb">type</span><span class="p">;</span>
  <span class="n">void</span> <span class="o">*</span><span class="n">data</span><span class="p">;</span>
  <span class="nb">bool</span> <span class="p">(</span><span class="o">*</span><span class="n">free</span><span class="p">)</span> <span class="p">(</span><span class="n">void</span> <span class="o">*</span><span class="p">);</span>
  <span class="nb">bool</span> <span class="p">(</span><span class="o">*</span><span class="n">copy</span><span class="p">)</span> <span class="p">(</span><span class="n">const</span> <span class="n">void</span> <span class="o">*</span><span class="p">,</span> <span class="n">void</span> <span class="o">*</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">width</span></code></dt><dd><p>Width of output image</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">height</span></code></dt><dd><p>Height of output image</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">size</span></code></dt><dd><p>Size of output</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">type</span></code></dt><dd><p>Type of Reid</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">data</span></code></dt><dd><p>Reid output data</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">free</span></code></dt><dd><p>function pointer to free data</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">copy</span></code></dt><dd><p>function pointer to copy data</p>
</dd>
</dl>
<dl class="c enum">
<dt class="sig sig-object c" id="c.seg_type">
<span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">seg_type</span></span></span><br /></dt>
<dd><p>Enum for holding type of segmentation</p>
</dd></dl>

<p><strong>Constants</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">SEMANTIC</span></code></dt><dd><p>Semantic</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">MEDICAL</span></code></dt><dd><p>Medical</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">SEG3D</span></code></dt><dd><p>3D Segmentation</p>
</dd>
</dl>
<dl class="c struct">
<dt class="sig sig-object c" id="c.Segmentation">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Segmentation</span></span></span><br /></dt>
<dd><p>Structure for storing segmentation related information</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">struct</span> <span class="n">Segmentation</span> <span class="p">{</span>
  <span class="n">enum</span> <span class="n">seg_type</span> <span class="nb">type</span><span class="p">;</span>
  <span class="n">uint32_t</span> <span class="n">width</span><span class="p">;</span>
  <span class="n">uint32_t</span> <span class="n">height</span><span class="p">;</span>
  <span class="n">char</span> <span class="n">fmt</span><span class="p">[</span><span class="n">MAX_SEGOUTFMT_LEN</span><span class="p">];</span>
  <span class="n">void</span> <span class="o">*</span><span class="n">data</span><span class="p">;</span>
  <span class="nb">bool</span> <span class="p">(</span><span class="o">*</span><span class="n">free</span><span class="p">)</span> <span class="p">(</span><span class="n">void</span> <span class="o">*</span><span class="p">);</span>
  <span class="nb">bool</span> <span class="p">(</span><span class="o">*</span><span class="n">copy</span><span class="p">)</span> <span class="p">(</span><span class="n">const</span> <span class="n">void</span> <span class="o">*</span><span class="p">,</span> <span class="n">void</span> <span class="o">*</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">type</span></code></dt><dd><p>enum to hold type of segmentation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">width</span></code></dt><dd><p>Width of output image</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">height</span></code></dt><dd><p>Height of output image</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fmt</span></code></dt><dd><p>Segmentation output format</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">data</span></code></dt><dd><p>Segmentation output data</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">free</span></code></dt><dd><p>function pointer to free data</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">copy</span></code></dt><dd><p>function pointer to copy data</p>
</dd>
</dl>
<dl class="c struct">
<dt class="sig sig-object c" id="c.TensorBuf">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">TensorBuf</span></span></span><br /></dt>
<dd><p>Structure for storing Tensor related information</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">struct</span> <span class="n">TensorBuf</span> <span class="p">{</span>
  <span class="nb">int</span> <span class="n">size</span><span class="p">;</span>
  <span class="n">void</span> <span class="o">*</span><span class="n">ptr</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>
  <span class="n">void</span> <span class="o">*</span><span class="n">priv</span><span class="p">;</span>
  <span class="n">void</span> <span class="p">(</span><span class="o">*</span><span class="n">free</span><span class="p">)</span> <span class="p">(</span><span class="n">void</span> <span class="o">**</span><span class="p">);</span>
  <span class="n">void</span> <span class="p">(</span><span class="o">*</span><span class="n">copy</span><span class="p">)</span> <span class="p">(</span><span class="n">void</span> <span class="o">**</span><span class="p">,</span> <span class="n">void</span> <span class="o">**</span><span class="p">);</span>
  <span class="n">unsigned</span> <span class="n">long</span> <span class="nb">int</span> <span class="n">height</span><span class="p">;</span>
  <span class="n">unsigned</span> <span class="n">long</span> <span class="nb">int</span> <span class="n">width</span><span class="p">;</span>
  <span class="n">unsigned</span> <span class="n">long</span> <span class="nb">int</span> <span class="n">fmt</span><span class="p">;</span>
  <span class="n">atomic_int</span> <span class="n">ref_count</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">size</span></code></dt><dd><p>Size of output Tensors</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ptr</span></code></dt><dd><p>Pointers to output Tensors</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">priv</span></code></dt><dd><p>Private structure</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">free</span></code></dt><dd><p>function pointer to free data</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">copy</span></code></dt><dd><p>function pointer to copy data</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">height</span></code></dt><dd><p>Height of output image</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">width</span></code></dt><dd><p>Width of output image</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fmt</span></code></dt><dd><p>Format of output image</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ref_count</span></code></dt><dd><p>Reference count</p>
</dd>
</dl>
</div>
<div class="section" id="gstinferenceclassification">
<h3>GstInferenceClassification<a class="headerlink" href="#gstinferenceclassification" title="Permalink to this heading">¶</a></h3>
<dl class="c struct">
<dt class="sig sig-object c" id="c.GstInferenceClassification">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">GstInferenceClassification</span></span></span><a class="headerlink" href="#c.GstInferenceClassification" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This structure stores the results of the ML operation by the classification network</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">struct</span> <span class="n">GstInferenceClassification</span> <span class="p">{</span>
  <span class="n">GstMiniObject</span> <span class="n">base</span><span class="p">;</span>
  <span class="n">GMutex</span> <span class="n">mutex</span><span class="p">;</span>
  <span class="n">VvasInferClassification</span> <span class="n">classification</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">base</span></code></dt><dd><p>private base object</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">mutex</span></code></dt><dd><p>mutex</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">classification</span></code></dt><dd><p>VVAS core inference structure</p>
</dd>
</dl>
<dl class="c struct">
<dt class="sig sig-object c" id="c.VvasInferClassification">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">VvasInferClassification</span></span></span><br /></dt>
<dd><p>Contains information on classification for each object</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">struct</span> <span class="n">VvasInferClassification</span> <span class="p">{</span>
  <span class="n">uint64_t</span> <span class="n">classification_id</span><span class="p">;</span>
  <span class="n">int32_t</span> <span class="n">class_id</span><span class="p">;</span>
  <span class="n">double</span> <span class="n">class_prob</span><span class="p">;</span>
  <span class="n">char</span><span class="o">*</span> <span class="n">class_label</span><span class="p">;</span>
  <span class="n">int32_t</span> <span class="n">num_classes</span><span class="p">;</span>
  <span class="n">double</span><span class="o">*</span> <span class="n">probabilities</span><span class="p">;</span>
  <span class="n">char</span><span class="o">**</span> <span class="n">labels</span><span class="p">;</span>
  <span class="n">VvasColorInfo</span> <span class="n">label_color</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">classification_id</span></code></dt><dd><p>A unique id associated to this classification</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">class_id</span></code></dt><dd><p>The numerical id associated to the assigned class</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">class_prob</span></code></dt><dd><p>The resulting probability of the assigned class. Typically ranges between 0 and 1</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">class_label</span></code></dt><dd><p>The label associated to this class or NULL if not available</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">num_classes</span></code></dt><dd><p>The total amount of classes of the entire prediction</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">probabilities</span></code></dt><dd><p>The entire array of probabilities of the prediction</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">labels</span></code></dt><dd><p>The entire array of labels of the prediction. NULL if not available</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">label_color</span></code></dt><dd><p>The color of labels</p>
</dd>
</dl>
<dl class="c struct">
<dt class="sig sig-object c" id="c.VvasColorInfo">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">VvasColorInfo</span></span></span><br /></dt>
<dd><p>Contains information for color of the detected object</p>
</dd></dl>

<p><strong>Definition</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">struct</span> <span class="n">VvasColorInfo</span> <span class="p">{</span>
  <span class="n">uint8_t</span> <span class="n">red</span><span class="p">;</span>
  <span class="n">uint8_t</span> <span class="n">green</span><span class="p">;</span>
  <span class="n">uint8_t</span> <span class="n">blue</span><span class="p">;</span>
  <span class="n">uint8_t</span> <span class="n">alpha</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">red</span></code></dt><dd><p>R color component</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">green</span></code></dt><dd><p>G color component</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">blue</span></code></dt><dd><p>B color component</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">alpha</span></code></dt><dd><p>Transparency</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="vvas-overlay-metadata">
<span id="id2"></span><h2>VVAS Overlay Metadata<a class="headerlink" href="#vvas-overlay-metadata" title="Permalink to this heading">¶</a></h2>
<p>VVAS overlay metadata structure hold the information of geometric shapes and text need to be overlaid on video frames. VVAS overlay plugin parses the overlay metadata structures to overlay information on the frames. An intermediate plugin is required for converting metadata generated from upstream plugins like infer, segmentation or optical flow plugins to overlay metadata for displaying information on frames. Currently supported structures in gstvvasoverlaymeta are rectangles, text, lines, arrows, circles and polygons. For displaying text, text need to be display must be copied into the text structure.</p>
<p>The GStreamer plug-ins can set and get overlay metadata from the GstBuffer by using the gst_buffer_add_meta () API and gst_buffer_get_meta () API, respectively.</p>
<div class="section" id="gstoverlaymeta">
<span id="id3"></span><h3>GstOverlayMeta<a class="headerlink" href="#gstoverlaymeta" title="Permalink to this heading">¶</a></h3>
<p>GstOverlayMeta structure holds VvasOverlayShapeInfo of vvas_core which intern stores the information of different geometric structures and text. The structural information of different shapes, VvasOverlayShapeInfo and GstOverlayMeta are as described below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>                  <span class="n">typedef</span> <span class="n">enum</span>  <span class="p">{</span>
  <span class="n">ARROW_DIRECTION_START</span> <span class="p">,</span>
  <span class="n">ARROW_DIRECTION_END</span><span class="p">,</span>
  <span class="n">ARROW_DIRECTION_BOTH_ENDS</span>
<span class="p">}</span> <span class="n">VvasOverlayArrowDirection</span><span class="p">;</span>

<span class="n">typedef</span> <span class="n">struct</span> <span class="p">{</span>
  <span class="n">int32_t</span> <span class="n">x</span><span class="p">;</span>
  <span class="n">int32_t</span> <span class="n">y</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VvasOverlayCoordinates</span><span class="p">;</span>

<span class="n">typedef</span> <span class="n">struct</span> <span class="p">{</span>
  <span class="n">uint8_t</span> <span class="n">red</span><span class="p">;</span>
  <span class="n">uint8_t</span> <span class="n">green</span><span class="p">;</span>
  <span class="n">uint8_t</span> <span class="n">blue</span><span class="p">;</span>
  <span class="n">uint8_t</span> <span class="n">alpha</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VvasOverlayColorData</span><span class="p">;</span>

<span class="n">typedef</span> <span class="n">struct</span> <span class="p">{</span>
  <span class="n">uint32_t</span> <span class="n">font_num</span><span class="p">;</span>
  <span class="nb">float</span> <span class="n">font_size</span><span class="p">;</span>
  <span class="n">VvasOverlayColorData</span> <span class="n">font_color</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VvasOverlayFontData</span><span class="p">;</span>

<span class="n">typedef</span> <span class="n">struct</span> <span class="p">{</span>
  <span class="n">VvasOverlayCoordinates</span> <span class="n">points</span><span class="p">;</span>
  <span class="n">uint32_t</span> <span class="n">width</span><span class="p">;</span>
  <span class="n">uint32_t</span> <span class="n">height</span><span class="p">;</span>
  <span class="n">uint32_t</span> <span class="n">thickness</span><span class="p">;</span>
  <span class="n">VvasOverlayColorData</span> <span class="n">rect_color</span><span class="p">;</span>
  <span class="n">uint32_t</span> <span class="n">apply_bg_color</span><span class="p">;</span>
  <span class="n">VvasOverlayColorData</span> <span class="n">bg_color</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VvasOverlayRectParams</span><span class="p">;</span>

<span class="n">typedef</span> <span class="n">struct</span> <span class="p">{</span>
  <span class="n">VvasOverlayCoordinates</span> <span class="n">points</span><span class="p">;</span>
  <span class="n">char</span> <span class="o">*</span> <span class="n">disp_text</span><span class="p">;</span>
  <span class="n">uint32_t</span> <span class="n">bottom_left_origin</span><span class="p">;</span>
  <span class="n">VvasOverlayFontData</span> <span class="n">text_font</span><span class="p">;</span>
  <span class="n">uint32_t</span> <span class="n">apply_bg_color</span><span class="p">;</span>
  <span class="n">VvasOverlayColorData</span> <span class="n">bg_color</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VvasOverlayTextParams</span><span class="p">;</span>

<span class="n">typedef</span> <span class="n">struct</span> <span class="p">{</span>
  <span class="n">VvasOverlayCoordinates</span> <span class="n">start_pt</span><span class="p">;</span>
  <span class="n">VvasOverlayCoordinates</span> <span class="n">end_pt</span><span class="p">;</span>
  <span class="n">uint32_t</span> <span class="n">thickness</span><span class="p">;</span>
  <span class="n">VvasOverlayColorData</span> <span class="n">line_color</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VvasOverlayLineParams</span><span class="p">;</span>

<span class="n">typedef</span> <span class="n">struct</span> <span class="p">{</span>
  <span class="n">VvasOverlayCoordinates</span> <span class="n">start_pt</span><span class="p">;</span>
  <span class="n">VvasOverlayCoordinates</span> <span class="n">end_pt</span><span class="p">;</span>
  <span class="n">VvasOverlayArrowDirection</span> <span class="n">arrow_direction</span><span class="p">;</span>
  <span class="n">uint32_t</span> <span class="n">thickness</span><span class="p">;</span>
  <span class="nb">float</span> <span class="n">tipLength</span><span class="p">;</span>
  <span class="n">VvasOverlayColorData</span> <span class="n">line_color</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VvasOverlayArrowParams</span><span class="p">;</span>

<span class="n">typedef</span> <span class="n">struct</span> <span class="p">{</span>
  <span class="n">VvasOverlayCoordinates</span> <span class="n">center_pt</span><span class="p">;</span>
  <span class="n">uint32_t</span> <span class="n">radius</span><span class="p">;</span>
  <span class="n">uint32_t</span> <span class="n">thickness</span><span class="p">;</span>
  <span class="n">VvasOverlayColorData</span> <span class="n">circle_color</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VvasOverlayCircleParams</span><span class="p">;</span>

<span class="n">typedef</span> <span class="n">struct</span> <span class="p">{</span>
  <span class="n">VvasList</span> <span class="o">*</span> <span class="n">poly_pts</span><span class="p">;</span>
  <span class="n">uint32_t</span> <span class="n">num_pts</span><span class="p">;</span>
  <span class="n">uint32_t</span> <span class="n">thickness</span><span class="p">;</span>
  <span class="n">VvasOverlayColorData</span> <span class="n">poly_color</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VvasOverlayPolygonParams</span><span class="p">;</span>

<span class="o">/**</span>
<span class="o">*</span> <span class="n">GstVvasOverlayMeta</span><span class="p">:</span>
<span class="o">*</span> <span class="nd">@num_rects</span><span class="p">:</span> <span class="n">number</span> <span class="n">of</span> <span class="n">bounding</span> <span class="n">boxes</span>
<span class="o">*</span> <span class="nd">@num_text</span><span class="p">:</span> <span class="n">number</span> <span class="n">of</span> <span class="n">text</span> <span class="n">boxes</span>
<span class="o">*</span> <span class="nd">@num_lines</span><span class="p">:</span> <span class="n">number</span> <span class="n">of</span> <span class="n">lines</span>
<span class="o">*</span> <span class="nd">@num_arrows</span><span class="p">:</span> <span class="n">number</span> <span class="n">of</span> <span class="n">arrows</span>
<span class="o">*</span> <span class="nd">@num_circles</span><span class="p">:</span> <span class="n">number</span> <span class="n">of</span> <span class="n">circles</span>
<span class="o">*</span> <span class="nd">@num_polys</span><span class="p">:</span> <span class="n">number</span> <span class="n">of</span> <span class="n">polygons</span>
<span class="o">*</span> <span class="nd">@rect_params</span><span class="p">:</span> <span class="n">structure</span> <span class="k">for</span> <span class="n">holding</span> <span class="n">rectangles</span> <span class="n">information</span>
<span class="o">*</span> <span class="nd">@text_params</span><span class="p">:</span> <span class="n">structure</span> <span class="k">for</span> <span class="n">holding</span> <span class="n">text</span> <span class="n">information</span>
<span class="o">*</span> <span class="nd">@line_params</span><span class="p">:</span> <span class="n">structure</span> <span class="k">for</span> <span class="n">holding</span> <span class="n">lines</span> <span class="n">information</span>
<span class="o">*</span> <span class="nd">@arrow_params</span><span class="p">:</span> <span class="n">structure</span> <span class="k">for</span> <span class="n">holding</span> <span class="n">arrows</span> <span class="n">information</span>
<span class="o">*</span> <span class="nd">@circle_params</span><span class="p">:</span> <span class="n">structure</span> <span class="k">for</span> <span class="n">holding</span> <span class="n">circles</span> <span class="n">information</span>
<span class="o">*</span> <span class="nd">@polygon_params</span><span class="p">:</span> <span class="n">structure</span> <span class="k">for</span> <span class="n">holding</span> <span class="n">polygons</span> <span class="n">information</span>
<span class="o">*/</span>
<span class="n">typedef</span> <span class="n">struct</span> <span class="p">{</span>
  <span class="n">GstMeta</span> <span class="n">meta</span><span class="p">;</span>
  <span class="nb">int</span> <span class="n">num_rects</span><span class="p">;</span>
  <span class="nb">int</span> <span class="n">num_text</span><span class="p">;</span>
  <span class="nb">int</span> <span class="n">num_lines</span><span class="p">;</span>
  <span class="nb">int</span> <span class="n">num_arrows</span><span class="p">;</span>
  <span class="nb">int</span> <span class="n">num_circles</span><span class="p">;</span>
  <span class="nb">int</span> <span class="n">num_polys</span><span class="p">;</span>

  <span class="n">VvasList</span> <span class="o">*</span><span class="n">rect_params</span><span class="p">;</span>
  <span class="n">VvasList</span> <span class="o">*</span><span class="n">text_params</span><span class="p">;</span>
  <span class="n">VvasList</span> <span class="o">*</span><span class="n">line_params</span><span class="p">;</span>
  <span class="n">VvasList</span> <span class="o">*</span><span class="n">arrow_params</span><span class="p">;</span>
  <span class="n">VvasList</span> <span class="o">*</span><span class="n">circle_params</span><span class="p">;</span>
  <span class="n">VvasList</span> <span class="o">*</span><span class="n">polygon_params</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VvasOverlayShapeInfo</span><span class="p">;</span>

<span class="n">typedef</span> <span class="n">struct</span> <span class="n">_GstVvasOverlayMeta</span> <span class="n">GstVvasOverlayMeta</span><span class="p">;</span>
<span class="n">struct</span> <span class="n">_GstVvasOverlayMeta</span> <span class="p">{</span>
  <span class="n">GstMeta</span> <span class="n">meta</span><span class="p">;</span>

  <span class="n">VvasOverlayShapeInfo</span> <span class="n">shape_info</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="vvas-opticalflow-metadata">
<span id="vvas-optflow-metadata"></span><h2>VVAS Opticalflow Metadata<a class="headerlink" href="#vvas-opticalflow-metadata" title="Permalink to this heading">¶</a></h2>
<p>VVAS optical flow metadata structure hold the information of motion of frame in x and y direction and object motion information. VVAS optical flow plugin set the optical flow meta data of frame. This metadata structure also supports storing of motion information in object level for further analysis by downstream plugins.  The GStreamer plug-ins can set and get optical flow metadata from the GstBuffer by using the gst_buffer_add_meta () API and gst_buffer_get_meta () API respectively.</p>
<div class="section" id="gstoptflowmeta">
<h3>GstOptflowMeta<a class="headerlink" href="#gstoptflowmeta" title="Permalink to this heading">¶</a></h3>
<p>GstOptflowMeta stores the information of optical flow of frames and object motion information.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">struct</span> <span class="n">_vvas_obj_motinfo</span>
<span class="p">{</span>
  <span class="nb">float</span> <span class="n">mean_x_displ</span><span class="p">;</span>
  <span class="nb">float</span> <span class="n">mean_y_displ</span><span class="p">;</span>
  <span class="nb">float</span> <span class="n">angle</span><span class="p">;</span>
  <span class="nb">float</span> <span class="n">dist</span><span class="p">;</span>
  <span class="n">char</span> <span class="n">dirc_name</span><span class="p">[</span><span class="n">DIR_NAME_SZ</span><span class="p">];</span>
  <span class="n">BoundingBox</span> <span class="n">bbox</span><span class="p">;</span>
<span class="p">};</span>


<span class="o">/**</span>
<span class="o">*</span> <span class="n">GstVvasOverlayMeta</span><span class="p">:</span>
<span class="o">*</span> <span class="nd">@num_objs</span><span class="p">:</span> <span class="n">number</span> <span class="n">of</span> <span class="n">objects</span> <span class="k">with</span> <span class="n">motion</span> <span class="n">information</span>
<span class="o">*</span> <span class="nd">@obj_mot_infos</span><span class="p">:</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">objects</span>
<span class="o">*</span> <span class="nd">@x_displ</span><span class="p">:</span> <span class="n">pointer</span> <span class="n">to</span> <span class="n">motion</span> <span class="n">data</span> <span class="n">of</span> <span class="n">frame</span> <span class="ow">in</span> <span class="n">x</span><span class="o">-</span><span class="n">direction</span>
<span class="o">*</span> <span class="nd">@y_displ</span><span class="p">:</span> <span class="n">pointer</span> <span class="n">to</span> <span class="n">motion</span> <span class="n">data</span> <span class="n">of</span> <span class="n">frame</span> <span class="ow">in</span> <span class="n">y</span><span class="o">-</span><span class="n">directiont</span>
<span class="o">*/</span>
<span class="n">struct</span> <span class="n">_GstVvasOFMeta</span>
<span class="p">{</span>
  <span class="n">GstMeta</span> <span class="n">meta</span><span class="p">;</span>

  <span class="n">guint</span> <span class="n">num_objs</span><span class="p">;</span>
  <span class="n">GList</span> <span class="o">*</span><span class="n">obj_mot_infos</span><span class="p">;</span>

  <span class="n">GstBuffer</span> <span class="o">*</span><span class="n">x_displ</span><span class="p">;</span>
  <span class="n">GstBuffer</span> <span class="o">*</span><span class="n">y_displ</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
          </div>
          
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
				  
				  <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="common_plugins.html" class="btn btn-neutral float-left" title="GStreamer Plug-ins" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="for_developers.html" class="btn btn-neutral float-right" title="Development Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021-2023, Advanced Micro Devices, Inc.
      <span class="lastupdated">Last updated on January 31, 2023.
      </span></p>
  </div>



										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">

													                    <div class="row">
                        <div class="col-xs-24">
                          <p><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a> | <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a> | <a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a> | <a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a> | <a href="#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></p>
                        </div>
                    </div>
												</div>
											</div>
										</div>
										
</br>


  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>