


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		<meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="../../../_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../../../_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

	
		<!-- Google Tag Manager -->
	<script type="text/plain" class="optanon-category-C0002">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-5RHQV7');</script>
	<!-- End Google Tag Manager -->
	
        <!-- Google Tag Manager -->
        <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5RHQV7" height="0" width="0" style="display:none;visibility:hidden" class="optanon-category-C0002"></iframe></noscript>
        <!-- End Google Tag Manager -->	

  
  
  
  

  
      <script type="text/javascript" src="../../../_static/js/jquery.min.js"></script>
	  <script type="text/javascript" src="../../../_static/js/gtm.js"></script>
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="../../../_static/js/common-ui-all.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/CoveoJsSearch.Lazy.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/linkid.js"></script>
    <script type="text/javascript" src="../../../_static/js/Searchbox.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/header-footer.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/pro.min.css" media="all" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Smart Model Select" href="../smart_model_select.html" />
    <link rel="prev" title="Platforms And Applications" href="../platforms_and_applications.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
 <div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">

    
    

    



<div class="xf-content-height">
    

<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
    
    <div class="header parbase aem-GridColumn aem-GridColumn--default--12"><noindex>
	<header data-component="header" class="site-header">
		<nav class="navbar navbar-default">
			<div class="container-fluid main-nav">
				<div class="row">
					<div class="navbar-column col-xs-4 col-sm-5">
						<ul class="nav navbar-nav hidden-xs">
							<li>
									<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
								</li>
							<li>
									<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
								</li>
							<li>
									<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
								</li>
							</ul>
							
						<ul class="nav navbar-nav hidden-sm hidden-md hidden-lg">
							<li>
									<button data-target="#header-container-0" data-function="toggle">Solutions</button>
								</li>
							<li>
									<button data-target="#header-container-1" data-function="toggle">Products</button>
								</li>
							<li>
									<button data-target="#header-container-2" data-function="toggle">Company</button>
								</li>
							</ul>
							
						<div id="header-container-0" class="menu-container">
								<div class="navbar-nav-container">
									<ul class="nav navbar-nav">
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
												</li>
										</ul>
									<button data-function="close-menu">
										<span class="fal fa-times" aria-hidden="true"></span>
									</button>
								</div>
							</div>
							<div id="header-container-1" class="menu-container">
								<div class="navbar-nav-container">
									<ul class="nav navbar-nav">
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
												</li>
										</ul>
									<button data-function="close-menu">
										<span class="fal fa-times" aria-hidden="true"></span>
									</button>
								</div>
							</div>
							<div id="header-container-2" class="menu-container">
								<div class="navbar-nav-container">
									<ul class="nav navbar-nav">
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
												</li>
										</ul>
									<button data-function="close-menu">
										<span class="fal fa-times" aria-hidden="true"></span>
									</button>
								</div>
							</div>
							</div>
					<div class="logo-column col-xs-4 col-sm-2">
						<div class="logo">
							<a target="_blank" href="https://www.xilinx.com/">
								<img src="https://github.com/Xilinx/Image-Collateral/blob/main/xilinx-header-logo.svg?raw=true" title="Xilinx Inc"/>
							</a>
						</div>
					</div>

				</div>
			</div>
			</nav></header></noindex></div>
		
	
</div>

    
</div>
</div>

<div class="calloutBanner parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16"><div class="callout-banner">
    Xilinx is now a part of <a target="_blank" href="https://www.amd.com/en/corporate/xilinx-acquisition">AMD</a> |  <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Learn More</a>
</div>
</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home" alt="Documentation Home"> Vitis™ Video Analytics SDK
          

          
          </a>

          
            
            
              <div class="version">
                1.0.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

      
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Release Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes.html">Release Notes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Base Infrastructure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../common/common_plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../common/for_developers.html">For Advanced Developers</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Embedded</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../platforms_and_applications.html">Platforms &amp; Applications</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../platforms_and_applications.html#som-examples">SOM Examples</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../platforms_and_applications.html#zcu104-examples">ZCU104 Examples</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Multi Channel ML</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#platform">Platform</a></li>
<li class="toctree-l4"><a class="reference internal" href="#implementation">Implementation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#known-issues">Known Issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../smart_model_select.html">Smart Model Select</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../6-embedded-plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tutorials.html">Tutorials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Center</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../DC/platforms_and_applications.html">Platforms &amp; Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../DC/6-DC-plugins.html">Plugins</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">FAQ</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../freq_asked_questions.html">Frequently Asked Questions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other Versions</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/VVAS/main/build/html/index.html">2.0</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/VVAS/1.1/build/html/index.html">1.1</a></li>
</ul>

            
			
			<p class="caption"><span class="caption-text">This Page</span></p>
				<ul class="current">
				  <li class="toctree-l1"><a href="../../../_sources/docs/Embedded/Tutorials/MultiChannelML.rst.txt"
						rel="nofollow">Show Source</a></li>
				</ul>
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Vitis™ Video Analytics SDK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../platforms_and_applications.html">Platforms And Applications</a> &raquo;</li>
        
      <li>Multichannel ML</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/docs/Embedded/Tutorials/MultiChannelML.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="multichannel-ml">
<h1>Multichannel ML<a class="headerlink" href="#multichannel-ml" title="Permalink to this heading">¶</a></h1>
<p>Vitis Video Analytics SDK (VVAS) is a Xilinx framework to build different video analytics solutions on Xilinx platforms.</p>
<p>This tutorial begins with building a single stream Machine learning pipeline using VVAS and then scales up to build four channel Machine learning pipelines.</p>
<p>The final goal would be to run some ML model on the four H.264 decoded streams and mix the videos and display the four streams on HDMI Monitor.</p>
<p>By the end of this tutorial, you should be able to run the following pipeline.</p>
<img alt="../../../_images/four_channel_pipeline.png" class="align-center" src="../../../_images/four_channel_pipeline.png" />
<section id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this heading">¶</a></h2>
<section id="hardware-requirements">
<h3>Hardware Requirements<a class="headerlink" href="#hardware-requirements" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://www.xilinx.com/products/boards-and-kits/zcu104.html">ZCU104 Evaluation Board Rev 1.0</a></p></li>
<li><p>Micro USB cable, connected to laptop or desktop computer for the terminal emulator</p></li>
<li><p>MicroSD card, 8 GB or larger, class 10 (recommended)</p></li>
<li><p>HDMI 2.0 supported Monitor with 3840x2160 as the native resolution</p></li>
<li><p>HDMI 2.0 cable</p></li>
</ul>
</section>
<section id="software-requirements">
<h3>Software Requirements<a class="headerlink" href="#software-requirements" title="Permalink to this heading">¶</a></h3>
<p>(Refer <a class="reference external" href="https://www.xilinx.com/html_docs/xilinx2021_1/vitis_doc/vitis_embedded_installation.html">Vitis Unified Software Development Platform 2021.1 Documentation</a> for installation instructions)</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.xilinx.com/support/download/index.html/content/xilinx/en/downloadNav/vitis.html">Vitis™ Unified Software Platform</a> version 2021.1</p></li>
<li><p><a class="reference external" href="https://www.xilinx.com/support/download/index.html/content/xilinx/en/downloadNav/embedded-design-tools.html">Petalinux tool</a> version 2021.1</p></li>
<li><p>Serial terminal emulator (for example, Tera Term)</p></li>
<li><p>Git</p></li>
<li><p>Host system with Ubuntu 18.04/20.04 (Recommended)</p></li>
<li><p><a class="reference external" href="https://www.balena.io/etcher/">Balena Etcher flashing tool</a></p></li>
</ul>
</section>
<section id="system-requirements">
<h3>System Requirements<a class="headerlink" href="#system-requirements" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Board must have access to the internet and be accessible from your development system</p></li>
</ul>
</section>
</section>
<section id="platform">
<h2>Platform<a class="headerlink" href="#platform" title="Permalink to this heading">¶</a></h2>
<p>This tutorial needs video codec unit (VCU) decoder, Video Mixer and HDMI Tx, hence select a platform having these IPs.</p>
<p>This tutorial uses the VVAS <a class="reference external" href="https://github.com/Xilinx/VVAS/tree/master/ivas-platforms/Embedded/zcu104_vcuDec_vmixHdmiTx">zcu104_vcuDec_vmixHdmiTx</a> platform because it supports VCU decoder, Video mixer and HDMI Tx subsystem.</p>
<p>For more information on Vitis platforms, see <a class="reference external" href="https://www.xilinx.com/products/design-tools/vitis/vitis-platform.html">Vitis Software Platform</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>VVAS platform <code class="docutils literal notranslate"><span class="pre">zcu104_vcuDec_vmixHdmiTx</span></code> may not be performance optimal. This platform is made available as reference and for tutorial demonstration.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>VVAS platform <code class="docutils literal notranslate"><span class="pre">zcu104_vcuDec_vmixHdmiTx</span></code> adds patch to irps5401 driver for zcu104 board to support multi thread execution of VAI models.
This <a class="reference external" href="https://github.com/Xilinx/Vitis-AI/tree/master/dsa/DPU-TRD/app/dpu_sw_optimize.tar.gz">patch</a> shouldn’t be applied to other boards
and is not part of the official Xilinx released 2021.1 Petalinux.</p>
</div>
<section id="building-blocks">
<h3>Building Blocks<a class="headerlink" href="#building-blocks" title="Permalink to this heading">¶</a></h3>
<p>Let us begin with constructing a single stream video pipeline based on the components selected.</p>
<a class="reference internal image-reference" href="../../../_images/single_channel_pipeline.png"><img alt="../../../_images/single_channel_pipeline.png" class="align-center" src="../../../_images/single_channel_pipeline.png" style="width: 1122.8px; height: 370.29999999999995px;" /></a>
<p>We shall build the pipeline incrementally, starting from the source element and keep appending the pipeline per the use case.</p>
<p>First setup the ZCU104 board with steps outlined in <a class="reference internal" href="#board-bring-up"><span class="std std-ref">Board bring up</span></a>.
Facedetect model (densebox_320_320) is used in constructing the single stream pipeline, hence choose a mp4 video file with human faces.</p>
<section id="vcu-decoder-block">
<h4>VCU Decoder block<a class="headerlink" href="#vcu-decoder-block" title="Permalink to this heading">¶</a></h4>
<p>A VCU Decoder block is required to decode the H.264/H.265 encoded stream and feed the decoded data to the ML block for inference.
For good performance, the hardware VCU block is expected to be part of the Xilinx platform.
The <code class="docutils literal notranslate"><span class="pre">zcu104_vcuDec_vmixHdmiTx</span></code> platform provides VCU as a hardware block as part of the design and the omxh264dec plugin for decoding.
Refer to <a class="reference external" href="https://www.xilinx.com/support/documentation/ip_documentation/vcu/v1_2/pg252-vcu.pdf">pg252</a> for more information on the Xilinx VCU block.</p>
<figure class="align-center" id="id4">
<a class="reference internal image-reference" href="../../../_images/omxh264dec_plugin.png"><img alt="../../../_images/omxh264dec_plugin.png" src="../../../_images/omxh264dec_plugin.png" style="width: 813.6px; height: 176.4px;" /></a>
<figcaption>
<p><span class="caption-text">VVAS solution for VCU block</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>Standalone VCU block can be tested with following pipeline:</p>
<figure class="align-center" id="id5">
<a class="reference internal image-reference" href="../../../_images/decode_pipeline.png"><img alt="../../../_images/decode_pipeline.png" src="../../../_images/decode_pipeline.png" style="width: 967.4px; height: 370.29999999999995px;" /></a>
<figcaption>
<p><span class="caption-text">Sample video pipeline for VCU block</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p><em>Gstreamer command</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>gst-launch-1.0 filesrc location=/home/root/videos/face_detect.mp4 ! qtdemux ! h264parse ! omxh264dec internal-entropy-buffers=3 ! filesink location=./vcu_out.nv12 -v
</pre></div>
</div>
</section>
<section id="preprocessor-block">
<h4>Preprocessor block<a class="headerlink" href="#preprocessor-block" title="Permalink to this heading">¶</a></h4>
<p>Different ML models supported by the DPU have different preprocessing requirements that can include
resize, mean subtraction, scale normalization etc.
Additionally, the DPU has a requirement to be fed with BGR/RGB images.
The VCU decoder at the input of the DPU generates NV12 images.
Depending on the model selected, the preprocessor block is expected to support the following operations:</p>
<ul class="simple">
<li><p>Resize</p></li>
<li><p>Color space conversion</p></li>
<li><p>Mean Subtraction</p></li>
<li><p>Scale Normalization</p></li>
</ul>
<p>Although all these operations can be achieved in software, the performance impact is substantial.
VVAS support <a class="reference external" href="https://github.com/Xilinx/VVAS/tree/master/ivas-accel-hw/">Multiscaler hardware accelerator</a> using <a class="reference internal" href="../../common/common_plugins.html#ivas-xabrscaler"><span class="std std-ref">ivas_xabrscaler</span></a> GStreamer plugin.</p>
<figure class="align-center" id="id6">
<a class="reference internal image-reference" href="../../../_images/xabrscaler_plugin.png"><img alt="../../../_images/xabrscaler_plugin.png" src="../../../_images/xabrscaler_plugin.png" style="width: 813.6px; height: 177.0px;" /></a>
<figcaption>
<p><span class="caption-text">VVAS solution for Preprocessor block</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>Different models have different requirements for mean and scale values, which can be configured via the plugin properties.
Table 1 lists the plugin properties provided by ivas_xabrscaler gstreamer plugin to configure mean and scale values.
These properties are tested in the context of this tutorial only.</p>
<p>Table 1: ivas_xabrscaler Plug-in Properties to configure mean and scale values</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Property Name</strong></p></th>
<th class="head"><p><strong>Type</strong></p></th>
<th class="head"><p><strong>Range</strong></p></th>
<th class="head"><p><strong>Default</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>alpha-b</p></td>
<td><p>float</p></td>
<td><p>0 to 128</p></td>
<td><p>0</p></td>
<td><p>Mean
subtraction for
blue channel</p></td>
</tr>
<tr class="row-odd"><td><p>alpha-g</p></td>
<td><p>float</p></td>
<td><p>0 to 128</p></td>
<td><p>0</p></td>
<td><p>Mean
subtraction for
green channel</p></td>
</tr>
<tr class="row-even"><td><p>alpha-r</p></td>
<td><p>float</p></td>
<td><p>0 to 128</p></td>
<td><p>0</p></td>
<td><p>Mean
subtraction for
red channel</p></td>
</tr>
<tr class="row-odd"><td><p>beta-b</p></td>
<td><p>float</p></td>
<td><p>0 to 1</p></td>
<td><p>1</p></td>
<td><p>Scaling
for blue
channel</p></td>
</tr>
<tr class="row-even"><td><p>beta-g</p></td>
<td><p>float</p></td>
<td><p>0 to 1</p></td>
<td><p>1</p></td>
<td><p>Scaling
for green
channel</p></td>
</tr>
<tr class="row-odd"><td><p>beta-r</p></td>
<td><p>float</p></td>
<td><p>0 to 1</p></td>
<td><p>1</p></td>
<td><p>Scaling
for red
channel</p></td>
</tr>
</tbody>
</table>
<p>Preprocessor block can be tested with following pipeline:</p>
<figure class="align-center" id="id7">
<a class="reference internal image-reference" href="../../../_images/preprocessor_pipeline.png"><img alt="../../../_images/preprocessor_pipeline.png" src="../../../_images/preprocessor_pipeline.png" style="width: 967.4px; height: 370.29999999999995px;" /></a>
<figcaption>
<p><span class="caption-text">Sample Video Pipeline for VCU + Preprocessor block</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p><em>Gstreamer command</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>gst-launch-1.0 -v \
  filesrc location=/home/root/videos/face_detect.mp4 ! qtdemux ! h264parse ! omxh264dec internal-entropy-buffers=3 ! \
  ivas_xabrscaler xclbin-location=/media/sd-mmcblk0p1/dpu.xclbin kernel-name=v_multi_scaler:v_multi_scaler_1 ! \
  &quot;video/x-raw, width=320, height=320, format=BGR&quot; ! filesink location=./pre_proc.bgr
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Check the <code class="docutils literal notranslate"><span class="pre">pre_proc.bgr</span></code> file in some raw BGR format reader tool to verify that the output of preprocessor is correct.</p>
</div>
<p>The following Gstreamer command is for pre-processing with a mean value of 128, which is required by the FACEDETECT class of DPU.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>gst-launch-1.0 -v \
  filesrc location=/home/root/videos/face_detect.mp4 ! qtdemux ! h264parse ! omxh264dec internal-entropy-buffers=3 ! \
  ivas_xabrscaler xclbin-location=/media/sd-mmcblk0p1/dpu.xclbin kernel-name=v_multi_scaler:v_multi_scaler_1 alpha_r=128 alpha_g=128 alpha_b=128 ! \
  &quot;video/x-raw, width=320, height=320, format=BGR&quot; ! filesink location=./pre_proc.bgr
</pre></div>
</div>
</section>
<section id="machine-learning-ml-block">
<h4>Machine Learning (ML) block<a class="headerlink" href="#machine-learning-ml-block" title="Permalink to this heading">¶</a></h4>
<p>Machine Learning inference is performed using DPU hardware accelerator and a gstreamer plug-in is used to control it.
VVAS supports the DPU kernel released with <a class="reference external" href="https://github.com/Xilinx/Vitis-AI">Vitis-AI</a> 1.4, and the VVAS infrastructure plugin
<a class="reference internal" href="../../common/common_plugins.html#ivas-xfilter"><span class="std std-ref">ivas_xfilter</span></a> is used along with the <a class="reference internal" href="../../common/common_plugins.html#ivas-xdpuinfer"><span class="std std-ref">ivas_xdpuinfer</span></a> accelerator software library.
The beauty of this VVAS solution is that you do not need to figure out the resolution required for various DPU supported models,
because the VVAS ML block identifies it dynamically based on the requested model and negotiates the same resolution with its upstream element.
In this case, the upstream element is the Preprocessor block, thus preprocessor converts the input image from the VCU
as required by the model selected for the ML block. The model can be selected in the JSON, which is passed to ivas_xfilter.</p>
<figure class="align-center" id="id8">
<a class="reference internal image-reference" href="../../../_images/xfilter_plugin.png"><img alt="../../../_images/xfilter_plugin.png" src="../../../_images/xfilter_plugin.png" style="width: 813.6px; height: 297.0px;" /></a>
<figcaption>
<p><span class="caption-text">VVAS solution for ML block</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>ML block can be tested with following pipeline:</p>
<figure class="align-center" id="id9">
<a class="reference internal image-reference" href="../../../_images/ML_pipeline.png"><img alt="../../../_images/ML_pipeline.png" src="../../../_images/ML_pipeline.png" style="width: 967.4px; height: 370.29999999999995px;" /></a>
<figcaption>
<p><span class="caption-text">Sample Video Pipeline adding ML block</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p><em>Gstreamer command</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>gst-launch-1.0 -v \
  filesrc location=/home/root/videos/face_detect.mp4 ! qtdemux ! h264parse ! omxh264dec internal-entropy-buffers=3 ! \
  ivas_xabrscaler xclbin-location=/media/sd-mmcblk0p1/dpu.xclbin kernel-name=v_multi_scaler:v_multi_scaler_1 alpha_r=128 alpha_g=128 alpha_b=128 ! \
  ivas_xfilter kernels-config=&quot;/home/root/utils/jsons/dpu/kernel_densebox_320_320.json&quot; ! fakesink
</pre></div>
</div>
<p>You can observe that the caps mentioned after the ivas_xabrscaler in the previous pipeline are removed now
as the VVAS ML solution auto negotiates the caps based on the model selected.
The following is a sample JSON kernel_densebox_320_320.json for running the densebox_320_320 DPU model that detects a human face.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;xclbin-location&quot;</span><span class="p">:</span><span class="s2">&quot;/media/sd-mmcblk0p1/dpu.xclbin&quot;</span><span class="p">,</span>
  <span class="s2">&quot;ivas-library-repo&quot;</span><span class="p">:</span> <span class="s2">&quot;/usr/lib/&quot;</span><span class="p">,</span>
  <span class="s2">&quot;element-mode&quot;</span><span class="p">:</span><span class="s2">&quot;inplace&quot;</span><span class="p">,</span>
  <span class="s2">&quot;kernels&quot;</span> <span class="p">:[</span>
    <span class="p">{</span>
      <span class="s2">&quot;library-name&quot;</span><span class="p">:</span><span class="s2">&quot;libivas_xdpuinfer.so&quot;</span><span class="p">,</span>
      <span class="s2">&quot;config&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;model-name&quot;</span> <span class="p">:</span> <span class="s2">&quot;densebox_320_320&quot;</span><span class="p">,</span>
        <span class="s2">&quot;model-class&quot;</span> <span class="p">:</span> <span class="s2">&quot;FACEDETECT&quot;</span><span class="p">,</span>
        <span class="s2">&quot;model-format&quot;</span> <span class="p">:</span> <span class="s2">&quot;BGR&quot;</span><span class="p">,</span>
        <span class="s2">&quot;model-path&quot;</span> <span class="p">:</span> <span class="s2">&quot;/usr/share/vitis_ai_library/models/&quot;</span><span class="p">,</span>
        <span class="s2">&quot;run_time_model&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;need_preprocess&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;performance_test&quot;</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;debug_level&quot;</span> <span class="p">:</span> <span class="mi">1</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In this pipeline, if the debug_level of ivas_xdpuinfer library is increased to 4, you can see the objects detected in logs.
The debug level can be increased in the <code class="docutils literal notranslate"><span class="pre">kernel_densebox_320_320.json</span></code> JSON file.
The sample log output is shown below.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../../_images/inference_result_dump.png"><img alt="../../../_images/inference_result_dump.png" src="../../../_images/inference_result_dump.png" style="width: 624.0px; height: 401.5px;" /></a>
</figure>
</div>
<p>Once the correct detection is observed you can move to the next advanced blocks.</p>
</section>
<section id="meta-affixer-block-and-hdmi-tx">
<h4>Meta Affixer block and HDMI Tx<a class="headerlink" href="#meta-affixer-block-and-hdmi-tx" title="Permalink to this heading">¶</a></h4>
<p>In the previous section, the elementary ML pipeline is working but the output image from the preprocessor block might not be the best for display,
as several preprocessing operations were done on this image before feeding it to the DPU.
To have a good user experience, you must fork the output of the VCU decoder block into two streams,
one for the ML block and other for the display.
To get the scaled metadata for the original image you need to add one meta scale block,
which converts the detection co-ordinates obtained by the ML model for its input resolution with respect to the
original output stream from the VCU decoder.
This can be done using the <a class="reference internal" href="../../common/common_plugins.html#ivas-xmetaaffixer"><span class="std std-ref">ivas_xmetaaffixer</span></a> plugin which is implemented entirely in software.</p>
<p>You can add HDMI Tx using kmssink Gstreamer plugin along with the ivas_xmetaaffixer in the previous pipeline.
This enables viewing video on HDMI monitor.
You need to set DRM bus-id, plane-id and rendering position as kmssink properties.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">bus-id</span></code> for the zcu104_vcuDec_vmixHdmiTx platform is fixed to <code class="docutils literal notranslate"><span class="pre">a0130000.v_mix</span></code>.</p>
<p>The video mixer in zcu104_vcuDec_vmixHdmiTx platform supports 9 planes of NV12 format, with plane-id starting from 34 to 42.
You need to set the <code class="docutils literal notranslate"><span class="pre">plane-id</span></code> within this range to output the video stream on one of these planes.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">render-rectangle</span></code> property sets the position of video stream on screen in the format “&lt;x, y, width, height&gt;”.
Here, x, y represents the starting position of the image on screen,
width represents width of the video image, and height represents height of the video image.</p>
<p>Sample video pipeline for adding meta affixer block and HDMI Tx is shown as below</p>
<figure class="align-center" id="id10">
<a class="reference internal image-reference" href="../../../_images/metascale_hdmitx_pipeline.png"><img alt="../../../_images/metascale_hdmitx_pipeline.png" src="../../../_images/metascale_hdmitx_pipeline.png" style="width: 967.4px; height: 370.29999999999995px;" /></a>
<figcaption>
<p><span class="caption-text">Sample video pipeline adding Meta Affixer and HDMI Tx blocks</span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p><em>Gstreamer command</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>gst-launch-1.0 -v \
  filesrc location=/home/root/videos/face_detect.mp4 ! qtdemux ! h264parse ! omxh264dec internal-entropy-buffers=3 !  \
  tee name=t0 \
    t0.src_0 ! queue ! \
      ivas_xabrscaler xclbin-location=/media/sd-mmcblk0p1/dpu.xclbin kernel-name=v_multi_scaler:v_multi_scaler_1 alpha_r=128 alpha_g=128 alpha_b=128 ! \
      ivas_xfilter kernels-config=&quot;/home/root/utils/jsons/dpu/kernel_densebox_320_320.json&quot; ! \
      scalem0.sink_master ivas_xmetaaffixer name=scalem0 scalem0.src_master ! fakesink \
    t0.src_1 ! queue ! \
      scalem0.sink_slave_0 scalem0.src_slave_0 ! queue ! \
      kmssink plane-id=34 bus-id=&quot;a0130000.v_mix&quot; render-rectangle=&quot;&lt;0,0,1920,1080&gt;&quot;
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is assumed that the video resolution of the input file sample.mp4 is 1080P.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Though you may not observe any ML output on monitor with this pipeline,
but we should see the input image getting displayed in monitor by this pipeline.</p>
</div>
</section>
<section id="bounding-box-block">
<h4>Bounding Box block<a class="headerlink" href="#bounding-box-block" title="Permalink to this heading">¶</a></h4>
<p>To have an output of ML displayed on the monitor, you should draw the results on an image.
The <a class="reference internal" href="../../common/common_plugins.html#ivas-xboundingbox"><span class="std std-ref">ivas_xboundingbox</span></a> software acceleration library comes in handy in this case.
This library along with VVAS infrastructure plug-in <a class="reference internal" href="../../common/common_plugins.html#ivas-xfilter"><span class="std std-ref">ivas_xfilter</span></a> can provide the bounding box functionality.</p>
<p>Sample video pipeline for adding bounding box block is shown as below</p>
<figure class="align-center" id="id11">
<a class="reference internal image-reference" href="../../../_images/single_channel_pipeline.png"><img alt="../../../_images/single_channel_pipeline.png" src="../../../_images/single_channel_pipeline.png" style="width: 1122.8px; height: 370.29999999999995px;" /></a>
<figcaption>
<p><span class="caption-text">Sample Video Pipeline adding Bounding Box block</span><a class="headerlink" href="#id11" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p><em>Gstreamer command</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>gst-launch-1.0 -v \
  filesrc location=/home/root/videos/face_detect.mp4 ! qtdemux ! h264parse ! omxh264dec internal-entropy-buffers=3 !  \
  tee name=t0 \
    t0.src_0 ! queue ! \
      ivas_xabrscaler xclbin-location=/media/sd-mmcblk0p1/dpu.xclbin kernel-name=v_multi_scaler:v_multi_scaler_1 alpha_r=128 alpha_g=128 alpha_b=128  ! \
      ivas_xfilter kernels-config=&quot;/home/root/utils/jsons/dpu/kernel_densebox_320_320.json&quot; ! \
      scalem0.sink_master ivas_xmetaaffixer name=scalem0 scalem0.src_master ! fakesink \
    t0.src_1 ! queue ! \
      scalem0.sink_slave_0 scalem0.src_slave_0 ! queue ! \
      ivas_xfilter kernels-config=&quot;/home/root/utils/jsons/bbox/kernel_boundingbox_facedetect.json&quot; ! \
      kmssink plane-id=34 bus-id=&quot;a0130000.v_mix&quot; render-rectangle=&quot;&lt;0,0,1920,1080&gt;&quot;
</pre></div>
</div>
<p>The following sample JSON file kernel_boundingbox_facedetect.json is used to draw a bounding box on detected objects.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;xclbin-location&quot;</span><span class="p">:</span><span class="s2">&quot;/media/sd-mmcblk0p1/dpu.xclbin&quot;</span><span class="p">,</span>
  <span class="s2">&quot;ivas-library-repo&quot;</span><span class="p">:</span> <span class="s2">&quot;/usr/lib/&quot;</span><span class="p">,</span>
  <span class="s2">&quot;element-mode&quot;</span><span class="p">:</span><span class="s2">&quot;inplace&quot;</span><span class="p">,</span>
  <span class="s2">&quot;kernels&quot;</span> <span class="p">:[</span>
    <span class="p">{</span>
      <span class="s2">&quot;library-name&quot;</span><span class="p">:</span><span class="s2">&quot;libivas_xboundingbox.so&quot;</span><span class="p">,</span>
      <span class="s2">&quot;config&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;model-name&quot;</span> <span class="p">:</span> <span class="s2">&quot;densebox_320_320&quot;</span><span class="p">,</span>
        <span class="s2">&quot;display_output&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;font_size&quot;</span> <span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
        <span class="s2">&quot;font&quot;</span> <span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s2">&quot;thickness&quot;</span> <span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s2">&quot;debug_level&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;label_color&quot;</span> <span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;blue&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;red&quot;</span> <span class="p">:</span> <span class="mi">0</span> <span class="p">},</span>
        <span class="s2">&quot;label_filter&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;class&quot;</span><span class="p">,</span> <span class="s2">&quot;probability&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;classes&quot;</span> <span class="p">:</span> <span class="p">[</span>
        <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>With addition of bounding box, your pipeline for single stream is complete.</p>
</section>
</section>
<section id="four-channel-ml-pipeline">
<h3>Four Channel ML pipeline<a class="headerlink" href="#four-channel-ml-pipeline" title="Permalink to this heading">¶</a></h3>
<p>Now, constructing a four-channel pipeline is simply duplicating the above pipeline four times for different models
and positioning each output video appropriately on screen on different plane-ids.</p>
<p>Below Vitis AI models are used as example in this tutorial.
Refer <a class="reference external" href="https://www.xilinx.com/html_docs/vitis_ai/1_4/compiling_model.html">Vitis AI User Documentation</a> to compile different models
using arch.json file from release package.</p>
<ul class="simple">
<li><p>densebox_320_320 (Face detection)</p></li>
<li><p>yolov3_adas_pruned_0_9 (Object detection)</p></li>
<li><p>resnet50 (Classification)</p></li>
<li><p>refinedet_pruned_0_96 (Pedestrian detector)</p></li>
</ul>
<p>A reference pipeline for four channel ML is given below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>gst-launch-1.0 -v \
  filesrc location=/home/root/videos/face_detect.mp4 ! qtdemux ! h264parse ! \
  omxh264dec internal-entropy-buffers=3 ! queue ! \
    tee name=t \
      t.src_0 ! queue ! \
        ivas_xabrscaler xclbin-location=/media/sd-mmcblk0p1/dpu.xclbin kernel-name=v_multi_scaler:v_multi_scaler_1 alpha_r=128 alpha_g=128 alpha_b=128 ! queue ! \
        ivas_xfilter kernels-config=&quot;/home/root/utils/jsons/dpu/kernel_densebox_320_320.json&quot; ! queue ! \
        scalem.sink_master ivas_xmetaaffixer name=scalem scalem.src_master ! queue ! fakesink \
      t.src_1 ! queue ! \
        scalem.sink_slave_0 scalem.src_slave_0 ! queue ! \
        ivas_xfilter kernels-config=&quot;/home/root/utils/jsons/bbox/kernel_boundingbox_facedetect.json&quot; ! \
        fpsdisplaysink video-sink=&quot;kmssink plane-id=34 bus-id=a0130000.v_mix render-rectangle=&lt;0,0,1920,1080&gt;&quot; text-overlay=false sync=false \
  filesrc location=/home/root/videos/yolov3.mp4 ! qtdemux ! h264parse ! \
  omxh264dec internal-entropy-buffers=3 ! queue ! \
    tee name=t2 \
      t2.src_0 ! queue ! \
        ivas_xabrscaler xclbin-location=/media/sd-mmcblk0p1/dpu.xclbin kernel-name=v_multi_scaler:v_multi_scaler_1 alpha_r=0 alpha_g=0 alpha_b=0 beta_r=0.25 beta_g=0.25 beta_b=0.25 ! queue ! \
        ivas_xfilter kernels-config=&quot;/home/root/utils/jsons/dpu/kernel_yolov3_adas_pruned_0_9.json&quot; ! queue ! \
        scalem2.sink_master ivas_xmetaaffixer name=scalem2 scalem2.src_master ! queue ! fakesink \
      t2.src_1 ! queue ! \
        scalem2.sink_slave_0 scalem2.src_slave_0 ! queue ! \
        ivas_xfilter kernels-config=&quot;/home/root/utils/jsons/bbox/kernel_boundingbox_yolov3_adas_pruned_0_9.json&quot; ! \
        fpsdisplaysink video-sink=&quot;kmssink plane-id=35 bus-id=a0130000.v_mix render-rectangle=&lt;1920,0,1920,1080&gt;&quot; text-overlay=false sync=false \
  filesrc location=/home/root/videos/classification.mp4 ! qtdemux ! h264parse ! \
  omxh264dec internal-entropy-buffers=3 ! queue ! \
    tee name=t3 \
      t3.src_0 ! queue ! \
        ivas_xabrscaler xclbin-location=/media/sd-mmcblk0p1/dpu.xclbin kernel-name=v_multi_scaler:v_multi_scaler_1 alpha_r=104 alpha_g=107 alpha_b=123 beta_r=1 beta_g=1 beta_b=1 ! queue ! \
        ivas_xfilter kernels-config=&quot;/home/root/utils/jsons/dpu/kernel_resnet50.json&quot; ! queue ! \
        scalem3.sink_master ivas_xmetaaffixer name=scalem3 scalem3.src_master ! queue ! fakesink \
      t3.src_1 ! queue ! \
        scalem3.sink_slave_0 scalem3.src_slave_0 ! queue ! \
        ivas_xfilter kernels-config=&quot;/home/root/utils/jsons/bbox/kernel_boundingbox_resnet50.json&quot; ! \
        fpsdisplaysink video-sink=&quot;kmssink plane-id=36 bus-id=a0130000.v_mix render-rectangle=&lt;0,1080,1920,1080&gt;&quot; text-overlay=false sync=false \
  filesrc location=/home/root/videos/refinedet.mp4 ! qtdemux ! h264parse ! \
  omxh264dec internal-entropy-buffers=3 ! queue ! \
    tee name=t4 \
      t4.src_0 ! queue ! \
        ivas_xabrscaler xclbin-location=/media/sd-mmcblk0p1/dpu.xclbin kernel-name=v_multi_scaler:v_multi_scaler_1 alpha_r=104 alpha_g=117 alpha_b=123 beta_r=1 beta_g=1 beta_b=1 ! queue ! \
        ivas_xfilter kernels-config=&quot;/home/root/utils/jsons/dpu/kernel_refinedet_pruned_0_96.json&quot; ! queue ! \
        scalem4.sink_master ivas_xmetaaffixer name=scalem4 scalem4.src_master ! queue ! fakesink \
      t4.src_1 ! queue ! \
      scalem4.sink_slave_0 scalem4.src_slave_0 ! queue ! \
      ivas_xfilter kernels-config=&quot;/home/root/utils/jsons/bbox/kernel_boundingbox_refinedet_pruned_0_96.json&quot; ! \
      fpsdisplaysink video-sink=&quot;kmssink plane-id=37 bus-id=a0130000.v_mix render-rectangle=&lt;1920,1080,1920,1080&gt;&quot; text-overlay=false sync=false
</pre></div>
</div>
<p>The above command is available in the release package as <code class="docutils literal notranslate"><span class="pre">multichannel_ml.sh</span></code>.</p>
<p>Now, let’s look into implementing the design and executing using Vitis AI and VVAS.</p>
</section>
</section>
<section id="implementation">
<h2>Implementation<a class="headerlink" href="#implementation" title="Permalink to this heading">¶</a></h2>
<p><a class="reference external" href="https://www.xilinx.com/member/forms/download/xef.html?filename=vvas_multichannel_ml_2021.1_zcu104.zip">Release package</a> provides prebuilt binaries including SD card image that has the implemented design and required software, VAI models and scripts.
Download the release package. Let the path where release package is downloaded be represented as <code class="docutils literal notranslate"><span class="pre">&lt;RELEASE_PATH&gt;</span></code>.</p>
<p>Below steps are required only if the platform and example design need to be regenerated, else move to section <a class="reference internal" href="#board-bring-up"><span class="std std-ref">Board bring up</span></a> to try the released SD card image.</p>
<section id="id1">
<h3>Platform<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h3>
<p>As previously described, this solution uses the VVAS <code class="docutils literal notranslate"><span class="pre">zcu104_vcuDec_vmixHdmiTx</span></code> platform.
The first and foremost step is to build this platform from its sources.</p>
<p>The platform provides the following hardware and software components of the pipeline:</p>
<ul class="simple">
<li><p>VCU hardened IP block</p></li>
<li><p>Video Mixer and HDMI Tx soft IP blocks</p></li>
<li><p>Opensource framework like Gstreamer, OpenCV</p></li>
<li><p>Vitis AI 1.4 libraries</p></li>
<li><p>Xilinx Runtime (XRT)</p></li>
<li><p>omxh264dec Gstreamer plugin</p></li>
<li><p>kmmsink Gstreamer plugin</p></li>
<li><p>VVAS Gstreamer plugins and libraries</p>
<ul>
<li><p><a class="reference internal" href="../../common/common_plugins.html#ivas-xfilter"><span class="std std-ref">ivas_xfilter</span></a> gstreamer plugin</p></li>
<li><p><a class="reference internal" href="../../common/common_plugins.html#ivas-xabrscaler"><span class="std std-ref">ivas_xabrscaler</span></a> multiscaler accelerator plugin</p></li>
<li><p><a class="reference internal" href="../../common/common_plugins.html#ivas-xdpuinfer"><span class="std std-ref">ivas_xdpuinfer</span></a> software accelerator library</p></li>
<li><p><a class="reference internal" href="../../common/common_plugins.html#ivas-xboundingbox"><span class="std std-ref">ivas_xboundingbox</span></a> software accelerator library</p></li>
<li><p><a class="reference internal" href="../../common/common_plugins.html#ivas-xmetaaffixer"><span class="std std-ref">ivas_xmetaaffixer</span></a> gstreamer plugin</p></li>
</ul>
</li>
</ul>
<p>Steps for building the platform:</p>
<p>1. Download the VVAS git repository. Let the path where VVAS repo is downloaded be represented as <code class="docutils literal notranslate"><span class="pre">&lt;VVAS_REPO&gt;</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">Xilinx</span><span class="o">/</span><span class="n">VVAS</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>2. Setup the toolchain</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="o">&lt;</span><span class="mf">2021.1</span><span class="n">_Vitis</span><span class="o">&gt;/</span><span class="n">settings64</span><span class="o">.</span><span class="n">sh</span>
<span class="n">source</span> <span class="o">&lt;</span><span class="mf">2021.1</span><span class="n">_Petalinux</span><span class="o">&gt;/</span><span class="n">settings</span><span class="o">.</span><span class="n">sh</span>
<span class="n">source</span> <span class="o">&lt;</span><span class="mf">2021.1</span><span class="n">_XRT</span><span class="o">&gt;/</span><span class="n">setenv</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>3. Change directory to the platform</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">&lt;</span><span class="n">VVAS_REPO</span><span class="o">&gt;/</span><span class="n">VVAS</span><span class="o">/</span><span class="n">ivas</span><span class="o">-</span><span class="n">platforms</span><span class="o">/</span><span class="n">Embedded</span><span class="o">/</span><span class="n">zcu104_vcuDec_vmixHdmiTx</span>
</pre></div>
</div>
<p>4. Build the platform</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span>
</pre></div>
</div>
<p>After the build is finished, the platform is available at
<code class="docutils literal notranslate"><span class="pre">&lt;VVAS_REPO&gt;/VVAS/ivas-platforms/Embedded/zcu104_vcuDec_vmixHdmiTx/platform_repo/xilinx_zcu104_vcuDec_vmixHdmiTx_202110_1/export/xilinx_zcu104_vcuDec_vmixHdmiTx_202110_1/</span></code>.</p>
<p>Let the path to platform be represented as <code class="docutils literal notranslate"><span class="pre">&lt;PLATFORM_PATH&gt;</span></code>.</p>
</section>
<section id="vitis-example-project">
<h3>Vitis Example Project<a class="headerlink" href="#vitis-example-project" title="Permalink to this heading">¶</a></h3>
<p>A Vitis build is required to stitch all the discussed hardware accelerators to the platform design.
The hardware accelerators required are:</p>
<ol class="arabic simple">
<li><p>DPU (Xilinx ML IP)</p></li>
<li><p>Multiscaler (Xilinx Preprocessing IP)</p></li>
</ol>
<p>The Xilinx deep learning processor unit (DPU) is a configurable computation engine dedicated for convolutional neural networks.
Refer to <a class="reference external" href="https://github.com/Xilinx/Vitis-AI/blob/master/dsa/DPU-TRD/prj/Vitis/README.md">DPU-TRD</a> for more information and compiling the DPU accelerator.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">multichannel_ml</span></code> example design adds two instances of B3136 DPU configuration and a single instance of Multiscaler to the <code class="docutils literal notranslate"><span class="pre">zcu104_vcuDec_vmixHdmiTx</span></code> platform.</p>
<p>Steps for building Vitis example project:</p>
<p>1. Download Vitis-AI. Let the path where Vitis-AI is downloaded be represented as <code class="docutils literal notranslate"><span class="pre">&lt;VITIS_AI_REPO&gt;</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">Xilinx</span><span class="o">/</span><span class="n">Vitis</span><span class="o">-</span><span class="n">AI</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">Vitis</span><span class="o">-</span><span class="n">AI</span><span class="o">/</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="n">tags</span><span class="o">/</span><span class="n">v1</span><span class="mf">.4</span> <span class="o">-</span><span class="n">b</span> <span class="n">v1</span><span class="mf">.4</span>
</pre></div>
</div>
<p>2. Change directory to example project</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">&lt;</span><span class="n">VVAS_REPO</span><span class="o">&gt;/</span><span class="n">VVAS</span><span class="o">/</span><span class="n">ivas</span><span class="o">-</span><span class="n">examples</span><span class="o">/</span><span class="n">Embedded</span><span class="o">/</span><span class="n">multichannel_ml</span><span class="o">/</span>
</pre></div>
</div>
<p>3. Compile the project</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">PLATFORM</span><span class="o">=&lt;</span><span class="n">PLATFORM_PATH</span><span class="o">&gt;/</span><span class="n">xilinx_zcu104_vcuDec_vmixHdmiTx_202110_1</span><span class="o">.</span><span class="n">xpfm</span> <span class="n">DPU_TRD_PATH</span><span class="o">=&lt;</span><span class="n">VITIS_AI_REPO</span><span class="o">&gt;/</span><span class="n">Vitis</span><span class="o">-</span><span class="n">AI</span><span class="o">/</span><span class="n">dsa</span><span class="o">/</span><span class="n">DPU</span><span class="o">-</span><span class="n">TRD</span><span class="o">/</span> <span class="n">HW_ACCEL_PATH</span><span class="o">==&lt;</span><span class="n">VVAS_REPO</span><span class="o">&gt;/</span><span class="n">VVAS</span><span class="o">/</span><span class="n">ivas</span><span class="o">-</span><span class="n">accel</span><span class="o">-</span><span class="n">hw</span><span class="o">/</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Depending on the build machine capacity, building this example project can take about 3 or more hours to compile</em>.</p>
</div>
<p>Once the build is completed, you can find the sdcard image at
<code class="docutils literal notranslate"><span class="pre">&lt;VVAS_REPO&gt;/VVAS/ivas-examples/Embedded/multichannel_ml/binary_container_1/sd_card.img</span></code>.</p>
</section>
<section id="board-bring-up">
<span id="id2"></span><h3>Board bring up<a class="headerlink" href="#board-bring-up" title="Permalink to this heading">¶</a></h3>
<ol class="arabic">
<li><p>Burn the SD card image <code class="docutils literal notranslate"><span class="pre">sd_card.img</span></code> (Either from <a class="reference external" href="https://www.xilinx.com/member/forms/download/xef.html?filename=vvas_multichannel_ml_2021.1_zcu104.zip">Release package</a> or generated)  using a SD card flashing tool like dd, Win32DiskImager, or Balena Etcher.</p>
<p>Boot the board using this SD card.</p>
</li>
<li><p>Once the board is booted, resize the ext4 partition to extend to full SD card size:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">resize</span><span class="o">-</span><span class="n">part</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">mmcblk0p2</span>
</pre></div>
</div>
</li>
<li><p>From the host system, copy the video files on the board:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="o">~/</span><span class="n">videos</span>
<span class="n">scp</span> <span class="o">-</span><span class="n">r</span> <span class="o">&lt;</span><span class="n">Path</span> <span class="n">to</span> <span class="n">Videos</span><span class="o">&gt;</span> <span class="n">root</span><span class="o">@&lt;</span><span class="n">board</span> <span class="n">ip</span><span class="o">&gt;</span><span class="p">:</span><span class="o">~/</span><span class="n">videos</span>
</pre></div>
</div>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Password for <em>root</em> user is <em>root</em>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Video files are not provided as part of release package.</p>
</div>
<ol class="arabic" start="4">
<li><p>Copy the model json files and scripts on the board:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scp</span> <span class="o">-</span><span class="n">r</span> <span class="o">&lt;</span><span class="n">RELEASE_PATH</span><span class="o">&gt;/</span><span class="n">vvas_multichannel_ml_2021</span><span class="mf">.1</span><span class="n">_zcu104</span><span class="o">/</span><span class="n">utils</span><span class="o">/</span> <span class="n">root</span><span class="o">@&lt;</span><span class="n">board</span> <span class="n">ip</span><span class="o">&gt;</span><span class="p">:</span><span class="o">~</span>
</pre></div>
</div>
</li>
<li><p>Copy the Vitis-AI model files on board:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">vitis_ai_library</span><span class="o">/</span><span class="n">models</span>
<span class="n">scp</span> <span class="o">-</span><span class="n">r</span> <span class="o">&lt;</span><span class="n">RELEASE_PATH</span><span class="o">&gt;/</span><span class="n">vvas_multichannel_ml_2021</span><span class="mf">.1</span><span class="n">_zcu104</span><span class="o">/</span><span class="n">vai_models</span><span class="o">/*</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">vitis_ai_library</span><span class="o">/</span><span class="n">models</span><span class="o">/</span>
</pre></div>
</div>
</li>
<li><p>Execute four channel Gstreamer pipeline script:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sh</span> <span class="o">~/</span><span class="n">utils</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">multichannel_ml</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
</li>
</ol>
<p>You can now see the 4-channel mixed video on the HDMI monitor.</p>
</section>
</section>
<section id="known-issues">
<h2>Known Issues<a class="headerlink" href="#known-issues" title="Permalink to this heading">¶</a></h2>
<p>1. Sometimes on reboot, the HDMI screen remains blank and following error log is observed during the boot.
Power OFF and ON (Hard reboot) the board to fix the issue:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xlnx</span><span class="o">-</span><span class="n">drm</span><span class="o">-</span><span class="n">hdmi</span> <span class="n">a0100000</span><span class="o">.</span><span class="n">v_hdmi_tx_ss</span><span class="p">:</span> <span class="n">tx</span><span class="o">-</span><span class="n">clk</span> <span class="ow">not</span> <span class="n">ready</span> <span class="o">-</span><span class="n">EPROBE_DEFER</span>
</pre></div>
</div>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p><a class="reference external" href="https://github.com/Xilinx/Vitis-AI">https://github.com/Xilinx/Vitis-AI</a></p></li>
<li><p><a class="reference external" href="https://www.xilinx.com/html_docs/vitis_ai/1_4">https://www.xilinx.com/html_docs/vitis_ai/1_4</a></p></li>
<li><p><a class="reference external" href="https://www.xilinx.com/support/download/index.html/content/xilinx/en/downloadNav/embedded-designtools.html">https://www.xilinx.com/support/download/index.html/content/xilinx/en/downloadNav/embedded-designtools.html</a></p></li>
<li><p><a class="reference external" href="https://www.xilinx.com/products/boards-and-kits/zcu104.html">https://www.xilinx.com/products/boards-and-kits/zcu104.html</a></p></li>
<li><p><a class="reference external" href="https://www.xilinx.com/support/documentation/ip_documentation/vcu/v1_2/pg252-vcu.pdf">https://www.xilinx.com/support/documentation/ip_documentation/vcu/v1_2/pg252-vcu.pdf</a></p></li>
<li><p><a class="reference external" href="https://gstreamer.freedesktop.org">https://gstreamer.freedesktop.org</a></p></li>
<li><p><a class="reference external" href="https://www.kernel.org/doc/html/v4.13/gpu/drm-kms.html">https://www.kernel.org/doc/html/v4.13/gpu/drm-kms.html</a></p></li>
<li><p><a class="reference external" href="https://gstreamer.freedesktop.org/documentation/kms/index.html">https://gstreamer.freedesktop.org/documentation/kms/index.html</a></p></li>
</ol>
</section>
</section>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>


	  <!-- Sphinx Page Footer block -->
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../smart_model_select.html" class="btn btn-neutral float-right" title="Smart Model Select" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../platforms_and_applications.html" class="btn btn-neutral float-left" title="Platforms And Applications" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">
      <span class="lastupdated">
        Last updated on October 10, 2021.
      </span>

    </p>
	<br>
  </div>
      </div>
    </section>


  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

   <script type="text/javascript">
    jQuery(function() { Search.loadIndex("searchindex.js"); });
  </script>

  <script type="text/javascript" id="searchindexloader"></script>


  
  
    
  



  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
                  <!-- make footer fixed - NileshP -->
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
                  <!-- make footer fixed NileshP-->
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
														
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<div class="lang-select dropup hidden-md hidden-lg">
		<button data-toggle="dropdown">
			<span class="fas fa-globe" aria-hidden="true"></span>
			<span>
				
					English
				</span>
		<span class="far fa-angle-down" aria-hidden="true"></span>
	</button>
	<ul class="dropdown-menu">
		<li>
				<a target="_blank" href="https://japan.xilinx.com/" target="_self">
					日本語
				</a>
			</li>
		<li>
				<a target="_blank" href="https://china.xilinx.com/" target="_self">
					简体中文
				</a>
			</li>
		</ul>
	</div>
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a target="_blank" href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
																	<div class="lang-select dropup hidden-xs hidden-sm">
	<button data-toggle="dropdown">
		<span class="fas fa-globe" aria-hidden="true"></span>
		<span>
			
				English
			</span>
		<span class="far fa-angle-down" aria-hidden="true"></span>
	</button>
	<ul class="dropdown-menu">
		<li>
				<a target="_blank" href="https://japan.xilinx.com/" target="_self">
					日本語
				</a>
			</li>
		<li>
				<a target="_blank" href="https://china.xilinx.com/" target="_self">
					简体中文
				</a>
			</li>
		</ul>
	</div>
															</div>
														</div>
														<div class="col-md-pull-5 col-lg-pull-5 col-md-5 col-lg-5">
															<span class="copyright">©2022 Advanced Micro Devices, Inc</span>
														</div>

													</div>
													                    <div class="movethisrowtoleft row">
                        <div class="col-xs-24">
                            <ul class="sub-menu">
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a></li>
                                <li><a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a></li>
                                <li><a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a></li>
								<li><a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a></li>
                                <li><a href="#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></li>
                            </ul>
                        </div>
                    </div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
<div class="backToTop parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16"><noindex>
    <span data-component="backToTopButton" class="backToTopButton loaded">
        <ul>
            <li>
                <a href="https://www.author.xilinx.com/xx/rebrand/amd/en-amd-xilinx-header-footer.html#top" class="btn top">
                    <span class="fas fa-angle-up" aria-hidden="true"></span>
                </a>
            </li>
        </ul>
    </span>
</noindex></div>
			</div>
		</div>


		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}

			underscoreSetup();
		</script>
	</body>
</html>